<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="style.css" />
    <title>Текст</title>
  </head>
  <body>
    <section></section>

    <section class="text-block">
      <p class="text">
        Я очень люблю программировать анимации и считаю, что если не было бы
        анимаций, то сайты были бы скучными и не интересными. А также отдельно
        хочу выразить свои теплые чувства к дизайнерам, ведь они делают красоту
        из пиксилей передвигая их.
      </p>
    </section>

    <section></section>

    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.7/dist/ScrollTrigger.min.js"></script>
    <!--<script src="https://unpkg.com/split-type"></script>-->
    <script src="https://cdn.jsdelivr.net/npm/split-type@0.3.4/umd/index.min.js"></script>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        gsap.registerPlugin(ScrollTrigger);

        document.querySelectorAll(".text").forEach((text) => {
          const split = new SplitType(text, { types: "chars" });

          gsap.fromTo(
            split.chars,
            { opacity: 0.3 },
            {
              opacity: 1,
              stagger: 0.05,
              scrollTrigger: {
                trigger: text,
                start: "top 80%",
                end: "top 20%",
                scrub: true,
              },
            }
          );
        });
      });
    </script>
  </body>
</html>
